<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBER-GEST</title>
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <style>
        body { display: flex; min-height: 100vh; margin:0; }
        .slider { width: 220px; background: #343a40; color: white; }
        .slider ul { list-style: none; padding:0; margin:0; }
        .slider li { padding: 15px; }
        .slider li.ativo { background: #495057; }
        .slider a { text-decoration: none; color: white; display: flex; align-items: center; }
        .slider .icon { width: 25px; }
        .main-container { flex: 1; padding: 20px; overflow-x: auto; }
        table th, table td { text-align: center; }
    </style>
</head>
<body>

    <!-- Menu lateral -->
    <nav class="slider">
        <ul>
            <li class="item-menu ativo"><a href="#" data-target="home-content"><span class="icon"><i class="bi bi-house"></i></span> Home</a></li>
            <li class="item-menu"><a href="#" data-target="user-content"><span class="icon"><i class="bi bi-person-fill-gear"></i></span> Users</a></li>
            <li class="item-menu"><a href="#" data-target="product-content"><span class="icon"><i class="bi bi-box"></i></span> Produtos</a></li>
        </ul>
    </nav>

    <!-- Conteúdo do main -->
    <div class="main-container">

        <!-- Home -->
        <div id="home-content" class="content-main">
            <h1>Bem-vindo ao CYBER-GEST</h1>
            <p>Use o menu lateral para navegar.</p>
        </div>

        <!-- Users -->
        <div id="user-content" class="content-main" hidden>
            <h2 class="mb-4">Gestão de Usuários</h2>
            <div class="mb-3">
                <button class="btn btn-success" id="user-btn-add">Adicionar Usuário</button>
            </div>

            <table class="table table-striped" id="user-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>E-mail</th>
                        <th>Perfil</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- JS vai preencher -->
                </tbody>
            </table>
        </div>

        <!-- Produtos -->
        <div id="product-content" class="content-main" hidden>
            <h2 class="mb-4">Gestão de Produtos</h2>
            <form id="product-form">
                <div class="mb-3">
                    <label>Descrição</label>
                    <input type="text" class="form-control" id="product-description" placeholder="Descrição do produto">
                </div>
                <div class="mb-3">
                    <label>Preço</label>
                    <input type="number" class="form-control" id="product-price" placeholder="Preço">
                </div>
                <button type="submit" class="btn btn-success">Salvar Produto</button>
            </form>
        </div>

    </div>

    <script>
        // --- Menu SPA ---
        const menuLinks = document.querySelectorAll('.item-menu a');
        const contents = document.querySelectorAll('.content-main');

        menuLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                // Remove 'ativo' de todos
                menuLinks.forEach(l => l.parentElement.classList.remove('ativo'));
                // Adiciona 'ativo' ao clicado
                link.parentElement.classList.add('ativo');
                const targetId = link.dataset.target;
                contents.forEach(c => c.hidden = true);
                const targetContent = document.getElementById(targetId);
                if(targetContent) targetContent.hidden = false;

                // Atualiza tabelas dinâmicas se necessário
                if(targetId === 'user-content') loadUsers();
            });
        });

        // --- Dados de exemplo para usuários ---
        const users = [
            {id: 1, name: "Stelio Cumaio", email:"stelio@cybersys.co.mz", profile:"Administrador", status:"Activo"},
            {id: 2, name: "Ana Silva", email:"ana@cybersys.co.mz", profile:"Editor", status:"Activo"},
            {id: 3, name: "Carlos Mendes", email:"carlos@cybersys.co.mz", profile:"Operador", status:"Bloqueado"}
        ];

        function loadUsers() {
            const tbody = document.querySelector('#user-table tbody');
            tbody.innerHTML = '';
            users.forEach(u => {
                tbody.innerHTML += `<tr>
                    <td>${u.id}</td>
                    <td>${u.name}</td>
                    <td>${u.email}</td>
                    <td>${u.profile}</td>
                    <td>${u.status}</td>
                </tr>`;
            });
        }

        // --- Inicializa tabela ao carregar página ---
        loadUsers();

        // --- Exemplo simples de adicionar usuário ---
        document.getElementById('user-btn-add').addEventListener('click', () => {
            const newId = users.length + 1;
            users.push({id:newId, name:"Novo Usuário", email:"novo@cybersys.co.mz", profile:"Visualizador", status:"Activo"});
            loadUsers();
        });

        // --- Produto simples (exemplo) ---
        document.getElementById('product-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert("Produto salvo: " + document.getElementById('product-description').value);
            e.target.reset();
        });
    </script>
</body>
</html>
